purge_population_effect = { 
		scope:county ?= {
			if = { 
				limit = { 
					has_variable = purge_population_current_progress
					var:purge_population_current_progress >= 50
				}

				remove_variable = purge_population_current_progress

                genocide_culture_effect = { MULT = 2 }
                genocide_faith_effect = yes
                genocide_common_effect = { MULT = 2 MOD = minority_disapproves_of_genocide_population_opinion }
			}
		}
}

genocide_culture_effect = { 
    if = { 
        limit = { 
            NOT = { 
                culture = scope:councillor_liege.culture
            }
        }

        culture = {
            change_cultural_acceptance = { 
                target = scope:councillor_liege.culture
                value = { 
                    value = -15
                    multiply = $MULT$
                }
                desc = cultural_acceptance_loss_purge_pupulation
            }
        }



        set_county_culture = scope:councillor_liege.culture
    }
}

genocide_faith_effect = { 
    if = { 
        limit = { 
            NOT = { 
                faith = scope:councillor_liege.faith
            }
        }
        


        set_county_faith = scope:councillor_liege.faith
    }
}

genocide_common_effect = { 
    scope:councillor_liege = {
        if = {
            limit = {
                any_vassal = {
                    has_vassal_stance = minority
                }
            }
            custom_tooltip = minority_disapproves_conversion
            hidden_effect = {
                every_vassal = {
                    limit = {
                        has_vassal_stance = minority
                    }
                    add_opinion = {
                        target = scope:councillor_liege
                        modifier = $MOD$
                    }
                }
            }
        }
    }
    change_county_control = {
        value = -30
        multiply = $MULT$
    }
    change_development_level = {
        value = -10
        multiply = $MULT$
    }
    add_county_modifier = { 
        modifier = county_purged_modifier
        years = 25
    }
}